{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/layout/PageWrapper.tsx"],"sourcesContent":["import { type ReactNode } from \"react\";\nimport { cn } from \"../../lib/utils\";\n\ninterface PageWrapperProps {\n  children: ReactNode;\n  className?: string;\n  narrow?: boolean;\n}\n\nexport function PageWrapper({ children, className, narrow = false }: PageWrapperProps) {\n  return (\n    <main\n      className={cn(\n        \"mx-auto w-full px-4 py-10\",\n        narrow ? \"max-w-2xl\" : \"max-w-6xl\",\n        className\n      )}\n    >\n      {children}\n    </main>\n  );\n}\n\nexport function PageHeader({\n  title,\n  description,\n  actions,\n}: {\n  title: string;\n  description?: string;\n  actions?: ReactNode;\n}) {\n  return (\n    <div className=\"mb-8 flex items-start justify-between gap-4\">\n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight text-zinc-900 dark:text-zinc-50\">\n          {title}\n        </h1>\n        {description && (\n          <p className=\"mt-1 text-zinc-500 dark:text-zinc-400\">{description}</p>\n        )}\n      </div>\n      {actions && <div className=\"flex shrink-0 items-center gap-2\">{actions}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AACA;;;AAQO,SAAS,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,KAAK,EAAoB;IACnF,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,6BACA,SAAS,cAAc,aACvB;kBAGD;;;;;;AAGP;KAZgB;AAcT,SAAS,WAAW,EACzB,KAAK,EACL,WAAW,EACX,OAAO,EAKR;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCACX;;;;;;oBAEF,6BACC,6LAAC;wBAAE,WAAU;kCAAyC;;;;;;;;;;;;YAGzD,yBAAW,6LAAC;gBAAI,WAAU;0BAAoC;;;;;;;;;;;;AAGrE;MAtBgB"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/lib/mockEvents.ts"],"sourcesContent":["import type { Event } from \"../types/event\";\nimport { ethers } from \"ethers\";\n\nexport const MOCK_EVENTS: Event[] = [\n  {\n    id: 0,\n    name: \"Travis Scott â€“ Utopia World Tour\",\n    description:\n      \"Travis Scott brings the Utopia World Tour to life with stunning visuals, surprise guests, and a set list spanning his entire discography.\",\n    venue: \"Madison Square Garden\",\n    city: \"New York, NY\",\n    date: \"2026-04-12T20:00:00Z\",\n    imageUrl: \"\",\n    maxTickets: 500,\n    soldCount: 423,\n    priceWei: ethers.parseEther(\"0.05\").toString(),\n    priceEth: \"0.05\",\n    category: \"concert\",\n    artist: \"Travis Scott\",\n    exists: true,\n  },\n  {\n    id: 1,\n    name: \"Billie Eilish â€“ Hit Me Hard And Soft Tour\",\n    description:\n      \"Intimate and immersive, Billie Eilish performs her latest album in full alongside fan favourites from her entire catalogue.\",\n    venue: \"O2 Arena\",\n    city: \"London, UK\",\n    date: \"2026-05-03T19:00:00Z\",\n    imageUrl: \"\",\n    maxTickets: 800,\n    soldCount: 800,\n    priceWei: ethers.parseEther(\"0.08\").toString(),\n    priceEth: \"0.08\",\n    category: \"concert\",\n    artist: \"Billie Eilish\",\n    exists: true,\n  },\n  {\n    id: 2,\n    name: \"Kendrick Lamar â€“ GNX Tour\",\n    description:\n      \"Kendrick Lamar celebrates GNX with a full production show including live band, dancers, and surprise set pieces.\",\n    venue: \"Kia Forum\",\n    city: \"Los Angeles, CA\",\n    date: \"2026-06-20T21:00:00Z\",\n    imageUrl: \"\",\n    maxTickets: 1000,\n    soldCount: 312,\n    priceWei: ethers.parseEther(\"0.1\").toString(),\n    priceEth: \"0.1\",\n    category: \"concert\",\n    artist: \"Kendrick Lamar\",\n    exists: true,\n  },\n  {\n    id: 3,\n    name: \"Doja Cat â€“ Scarlet Tour\",\n    description:\n      \"Doja Cat's Scarlet Tour is a theatrical, costume-heavy spectacle unlike anything seen in pop concerts.\",\n    venue: \"Accor Arena\",\n    city: \"Paris, FR\",\n    date: \"2026-07-08T20:30:00Z\",\n    imageUrl: \"\",\n    maxTickets: 600,\n    soldCount: 201,\n    priceWei: ethers.parseEther(\"0.06\").toString(),\n    priceEth: \"0.06\",\n    category: \"concert\",\n    artist: \"Doja Cat\",\n    exists: true,\n  },\n  {\n    id: 4,\n    name: \"The Weeknd â€“ After Hours Til Dawn\",\n    description:\n      \"The Weeknd's most ambitious tour yet â€” a two-part show blending After Hours and Dawn FM into one continuous narrative.\",\n    venue: \"Rogers Centre\",\n    city: \"Toronto, CA\",\n    date: \"2026-08-15T20:00:00Z\",\n    imageUrl: \"\",\n    maxTickets: 1200,\n    soldCount: 50,\n    priceWei: ethers.parseEther(\"0.12\").toString(),\n    priceEth: \"0.12\",\n    category: \"concert\",\n    artist: \"The Weeknd\",\n    exists: true,\n  },\n  {\n    id: 5,\n    name: \"SZA â€“ SOS World Tour\",\n    description:\n      \"SZA performs her Grammy-winning SOS in full for the final leg of her record-breaking world tour.\",\n    venue: \"United Center\",\n    city: \"Chicago, IL\",\n    date: \"2026-09-01T19:30:00Z\",\n    imageUrl: \"\",\n    maxTickets: 700,\n    soldCount: 699,\n    priceWei: ethers.parseEther(\"0.07\").toString(),\n    priceEth: \"0.07\",\n    category: \"concert\",\n    artist: \"SZA\",\n    exists: true,\n  },\n];\n"],"names":[],"mappings":";;;;AACA;;AAEO,MAAM,cAAuB;IAClC;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,YAAY;QACZ,WAAW;QACX,UAAU,6LAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ;QAC5C,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,YAAY;QACZ,WAAW;QACX,UAAU,6LAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ;QAC5C,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,YAAY;QACZ,WAAW;QACX,UAAU,6LAAM,CAAC,UAAU,CAAC,OAAO,QAAQ;QAC3C,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,YAAY;QACZ,WAAW;QACX,UAAU,6LAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ;QAC5C,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,YAAY;QACZ,WAAW;QACX,UAAU,6LAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ;QAC5C,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,OAAO;QACP,MAAM;QACN,MAAM;QACN,UAAU;QACV,YAAY;QACZ,WAAW;QACX,UAAU,6LAAM,CAAC,UAAU,CAAC,QAAQ,QAAQ;QAC5C,UAAU;QACV,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;CACD"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/lib/mockTicketStore.ts"],"sourcesContent":["import type { Ticket } from \"../types/ticket\";\n\nconst STORAGE_KEY = \"whitepass_mock_tickets\";\n\nexport function getMockTickets(): Ticket[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY) ?? \"[]\") as Ticket[];\n  } catch {\n    return [];\n  }\n}\n\nexport function saveMockTicket(ticket: Ticket): void {\n  if (typeof window === \"undefined\") return;\n  const existing = getMockTickets();\n  // avoid duplicates\n  if (existing.some((t) => t.tokenId === ticket.tokenId)) return;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify([...existing, ticket]));\n}\n\nexport function clearMockTickets(): void {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(STORAGE_KEY);\n}\n"],"names":[],"mappings":";;;;;;;;AAEA,MAAM,cAAc;AAEb,SAAS;IACd;;IACA,IAAI;QACF,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,gBAAgB;IACzD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,SAAS,eAAe,MAAc;IAC3C;;IACA,MAAM,WAAW;IACjB,mBAAmB;IACnB,IAAI,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,OAAO,OAAO,GAAG;IACxD,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;WAAI;QAAU;KAAO;AACxE;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;AAC1B"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/hooks/useEvents.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { getReadContract, getWriteContract, getSigner } from \"../lib/contract\";\nimport { useWallet } from \"../context/WalletContext\";\nimport { MOCK_EVENTS } from \"../lib/mockEvents\";\nimport { saveMockTicket } from \"../lib/mockTicketStore\";\nimport { PLATFORM_ADDRESS } from \"../lib/constants\";\nimport type { Event } from \"../types/event\";\nimport type { TxState } from \"../types/contract\";\n\n// ---------------------------------------------------------------------------\n// useEvents â€” fetch all events from the contract\n// ---------------------------------------------------------------------------\n\nexport function useEvents() {\n  const [events, setEvents] = useState<Event[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchEvents = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const contract = getReadContract();\n      if (!contract) {\n        setEvents(MOCK_EVENTS);\n        return;\n      }\n\n      let count: bigint;\n      try {\n        count = await contract.eventCount();\n      } catch {\n        setEvents(MOCK_EVENTS);\n        return;\n      }\n\n      // No on-chain events yet â€” use mock data for demo\n      if (Number(count) === 0) {\n        setEvents(MOCK_EVENTS);\n        return;\n      }\n\n      const results: Event[] = [];\n      for (let i = 0; i < Number(count); i++) {\n        const [name, maxTickets, soldCount, priceWei] =\n          await contract.getEventInfo(i);\n        results.push({\n          id: i,\n          name,\n          description: \"\",\n          venue: \"\",\n          city: \"\",\n          date: \"\",\n          imageUrl: \"\",\n          maxTickets: Number(maxTickets),\n          soldCount: Number(soldCount),\n          priceWei: priceWei.toString(),\n          priceEth: \"\",\n          category: \"concert\",\n          artist: \"\",\n          exists: true,\n        });\n      }\n      setEvents(results);\n    } catch {\n      // Unexpected error â€” fall back to mock events so the UI still works\n      setEvents(MOCK_EVENTS);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchEvents();\n  }, [fetchEvents]);\n\n  return { events, loading, error, refetch: fetchEvents };\n}\n\n// ---------------------------------------------------------------------------\n// useEvent â€” single event detail\n// ---------------------------------------------------------------------------\n\nexport function useEvent(eventId: number) {\n  const [event, setEvent] = useState<Event | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchEvent = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const contract = getReadContract();\n        if (!contract) {\n          setEvent(MOCK_EVENTS.find((e) => e.id === eventId) ?? null);\n          return;\n        }\n        try {\n          const [name, maxTickets, soldCount, priceWei] =\n            await contract.getEventInfo(eventId);\n          if (name) {\n            setEvent({\n              id: eventId,\n              name,\n              description: \"\",\n              venue: \"\",\n              city: \"\",\n              date: \"\",\n              imageUrl: \"\",\n              maxTickets: Number(maxTickets),\n              soldCount: Number(soldCount),\n              priceWei: priceWei.toString(),\n              priceEth: \"\",\n              category: \"concert\",\n              artist: \"\",\n              exists: true,\n            });\n            return;\n          }\n        } catch {\n          // fall through to mock\n        }\n        setEvent(MOCK_EVENTS.find((e) => e.id === eventId) ?? null);\n      } catch (err: unknown) {\n        setError(err instanceof Error ? err.message : \"Failed to fetch event\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchEvent();\n  }, [eventId]);\n\n  return { event, loading, error };\n}\n\n// ---------------------------------------------------------------------------\n// useMintTicket â€” purchase a ticket for an event\n// ---------------------------------------------------------------------------\n\nexport function useMintTicket() {\n  const { ensureCorrectChain } = useWallet();\n  const [tx, setTx] = useState<TxState>({ status: \"idle\" });\n\n  const mint = useCallback(\n    async (eventId: number, priceWei: string) => {\n      const isMockEvent = MOCK_EVENTS.some((e) => e.id === eventId);\n\n      if (isMockEvent) {\n        // Real MON transfer to the platform treasury â€” actual funds leave the wallet\n        const onCorrectChain = await ensureCorrectChain();\n        if (!onCorrectChain) return;\n\n        setTx({ status: \"pending\" });\n        try {\n          const signer = await getSigner();\n          if (!signer) throw new Error(\"Wallet not connected\");\n\n          const tx = await signer.sendTransaction({\n            to: PLATFORM_ADDRESS,\n            value: BigInt(priceWei),\n          });\n          await tx.wait();\n\n          const tokenId = Date.now();\n          const address = await signer.getAddress();\n          saveMockTicket({\n            tokenId,\n            eventId,\n            owner: address,\n            purchasedAt: new Date().toISOString(),\n            isUsed: false,\n          });\n          setTx({ status: \"success\", hash: tx.hash });\n        } catch (err: unknown) {\n          setTx({\n            status: \"error\",\n            error: err instanceof Error ? err.message : \"Transaction failed\",\n          });\n        }\n        return;\n      }\n\n      const onCorrectChain = await ensureCorrectChain();\n      if (!onCorrectChain) return;\n\n      setTx({ status: \"pending\" });\n      try {\n        const contract = await getWriteContract();\n        if (!contract) throw new Error(\"Wallet not connected\");\n\n        const receipt = await contract.mintTicket(eventId, {\n          value: BigInt(priceWei),\n        });\n        await receipt.wait();\n        setTx({ status: \"success\", hash: receipt.hash });\n      } catch (err: unknown) {\n        setTx({\n          status: \"error\",\n          error: err instanceof Error ? err.message : \"Transaction failed\",\n        });\n      }\n    },\n    [ensureCorrectChain]\n  );\n\n  const reset = useCallback(() => setTx({ status: \"idle\" }), []);\n  return { mint, tx, reset };\n}\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAPA;;;;;;;AAeO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,cAAc,IAAA,4KAAW;8CAAC;YAC9B,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,WAAW,IAAA,4IAAe;gBAChC,IAAI,CAAC,UAAU;oBACb,UAAU,0IAAW;oBACrB;gBACF;gBAEA,IAAI;gBACJ,IAAI;oBACF,QAAQ,MAAM,SAAS,UAAU;gBACnC,EAAE,OAAM;oBACN,UAAU,0IAAW;oBACrB;gBACF;gBAEA,kDAAkD;gBAClD,IAAI,OAAO,WAAW,GAAG;oBACvB,UAAU,0IAAW;oBACrB;gBACF;gBAEA,MAAM,UAAmB,EAAE;gBAC3B,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAK;oBACtC,MAAM,CAAC,MAAM,YAAY,WAAW,SAAS,GAC3C,MAAM,SAAS,YAAY,CAAC;oBAC9B,QAAQ,IAAI,CAAC;wBACX,IAAI;wBACJ;wBACA,aAAa;wBACb,OAAO;wBACP,MAAM;wBACN,MAAM;wBACN,UAAU;wBACV,YAAY,OAAO;wBACnB,WAAW,OAAO;wBAClB,UAAU,SAAS,QAAQ;wBAC3B,UAAU;wBACV,UAAU;wBACV,QAAQ;wBACR,QAAQ;oBACV;gBACF;gBACA,UAAU;YACZ,EAAE,OAAM;gBACN,oEAAoE;gBACpE,UAAU,0IAAW;YACvB,SAAU;gBACR,WAAW;YACb;QACF;6CAAG,EAAE;IAEL,IAAA,0KAAS;+BAAC;YACR;QACF;8BAAG;QAAC;KAAY;IAEhB,OAAO;QAAE;QAAQ;QAAS;QAAO,SAAS;IAAY;AACxD;GAhEgB;AAsET,SAAS,SAAS,OAAe;;IACtC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAe;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;8BAAC;YACR,MAAM;iDAAa;oBACjB,WAAW;oBACX,SAAS;oBACT,IAAI;wBACF,MAAM,WAAW,IAAA,4IAAe;wBAChC,IAAI,CAAC,UAAU;4BACb,SAAS,0IAAW,CAAC,IAAI;iEAAC,CAAC,IAAM,EAAE,EAAE,KAAK;mEAAY;4BACtD;wBACF;wBACA,IAAI;4BACF,MAAM,CAAC,MAAM,YAAY,WAAW,SAAS,GAC3C,MAAM,SAAS,YAAY,CAAC;4BAC9B,IAAI,MAAM;gCACR,SAAS;oCACP,IAAI;oCACJ;oCACA,aAAa;oCACb,OAAO;oCACP,MAAM;oCACN,MAAM;oCACN,UAAU;oCACV,YAAY,OAAO;oCACnB,WAAW,OAAO;oCAClB,UAAU,SAAS,QAAQ;oCAC3B,UAAU;oCACV,UAAU;oCACV,QAAQ;oCACR,QAAQ;gCACV;gCACA;4BACF;wBACF,EAAE,OAAM;wBACN,uBAAuB;wBACzB;wBACA,SAAS,0IAAW,CAAC,IAAI;6DAAC,CAAC,IAAM,EAAE,EAAE,KAAK;+DAAY;oBACxD,EAAE,OAAO,KAAc;wBACrB,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAChD,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;6BAAG;QAAC;KAAQ;IAEZ,OAAO;QAAE;QAAO;QAAS;IAAM;AACjC;IAnDgB;AAyDT,SAAS;;IACd,MAAM,EAAE,kBAAkB,EAAE,GAAG,IAAA,gJAAS;IACxC,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,yKAAQ,EAAU;QAAE,QAAQ;IAAO;IAEvD,MAAM,OAAO,IAAA,4KAAW;2CACtB,OAAO,SAAiB;YACtB,MAAM,cAAc,0IAAW,CAAC,IAAI;+DAAC,CAAC,IAAM,EAAE,EAAE,KAAK;;YAErD,IAAI,aAAa;gBACf,6EAA6E;gBAC7E,MAAM,iBAAiB,MAAM;gBAC7B,IAAI,CAAC,gBAAgB;gBAErB,MAAM;oBAAE,QAAQ;gBAAU;gBAC1B,IAAI;oBACF,MAAM,SAAS,MAAM,IAAA,sIAAS;oBAC9B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;oBAE7B,MAAM,KAAK,MAAM,OAAO,eAAe,CAAC;wBACtC,IAAI,8IAAgB;wBACpB,OAAO,OAAO;oBAChB;oBACA,MAAM,GAAG,IAAI;oBAEb,MAAM,UAAU,KAAK,GAAG;oBACxB,MAAM,UAAU,MAAM,OAAO,UAAU;oBACvC,IAAA,kJAAc,EAAC;wBACb;wBACA;wBACA,OAAO;wBACP,aAAa,IAAI,OAAO,WAAW;wBACnC,QAAQ;oBACV;oBACA,MAAM;wBAAE,QAAQ;wBAAW,MAAM,GAAG,IAAI;oBAAC;gBAC3C,EAAE,OAAO,KAAc;oBACrB,MAAM;wBACJ,QAAQ;wBACR,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;oBAC9C;gBACF;gBACA;YACF;YAEA,MAAM,iBAAiB,MAAM;YAC7B,IAAI,CAAC,gBAAgB;YAErB,MAAM;gBAAE,QAAQ;YAAU;YAC1B,IAAI;gBACF,MAAM,WAAW,MAAM,IAAA,6IAAgB;gBACvC,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;gBAE/B,MAAM,UAAU,MAAM,SAAS,UAAU,CAAC,SAAS;oBACjD,OAAO,OAAO;gBAChB;gBACA,MAAM,QAAQ,IAAI;gBAClB,MAAM;oBAAE,QAAQ;oBAAW,MAAM,QAAQ,IAAI;gBAAC;YAChD,EAAE,OAAO,KAAc;gBACrB,MAAM;oBACJ,QAAQ;oBACR,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C;YACF;QACF;0CACA;QAAC;KAAmB;IAGtB,MAAM,QAAQ,IAAA,4KAAW;4CAAC,IAAM,MAAM;gBAAE,QAAQ;YAAO;2CAAI,EAAE;IAC7D,OAAO;QAAE;QAAM;QAAI;IAAM;AAC3B;IApEgB;;QACiB,gJAAS"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/hooks/useTickets.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { getReadContract } from \"../lib/contract\";\nimport { useWallet } from \"../context/WalletContext\";\nimport { getMockTickets } from \"../lib/mockTicketStore\";\nimport { MOCK_EVENTS } from \"../lib/mockEvents\";\nimport type { Ticket } from \"../types/ticket\";\n\n// ---------------------------------------------------------------------------\n// useMyTickets â€” all tickets owned by the connected wallet\n// ---------------------------------------------------------------------------\n\nexport function useMyTickets() {\n  const { address, isConnected } = useWallet();\n  const [tickets, setTickets] = useState<Ticket[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchTickets = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Always include locally-stored mock tickets\n      const mockTickets = getMockTickets();\n\n      // Try to also pull real on-chain tickets if wallet is connected\n      const chainTickets: Ticket[] = [];\n      if (isConnected && address) {\n        try {\n          const contract = getReadContract();\n          if (contract) {\n            const eventCount: bigint = await contract.eventCount();\n            for (let eventId = 0; eventId < Number(eventCount); eventId++) {\n              const count: bigint = await contract.userTicketCount(address, eventId);\n              for (let i = 0; i < Number(count); i++) {\n                chainTickets.push({\n                  tokenId: eventId * 1000 + i,\n                  eventId,\n                  owner: address,\n                  purchasedAt: new Date().toISOString(),\n                  isUsed: false,\n                });\n              }\n            }\n          }\n        } catch {\n          // contract unavailable â€” that's fine, mock tickets still show\n        }\n      }\n\n      // Merge: chain tickets first, then mock tickets (skip duplicates)\n      const chainTokenIds = new Set(chainTickets.map((t) => t.tokenId));\n      const unique = [\n        ...chainTickets,\n        ...mockTickets.filter((t) => !chainTokenIds.has(t.tokenId)),\n      ];\n\n      // Enrich with event metadata from mock list\n      const enriched = unique.map((t) => {\n        const event = MOCK_EVENTS.find((e) => e.id === t.eventId);\n        return event ? { ...t, event } : t;\n      });\n\n      setTickets(enriched);\n    } catch (err: unknown) {\n      setError(err instanceof Error ? err.message : \"Failed to fetch tickets\");\n    } finally {\n      setLoading(false);\n    }\n  }, [address, isConnected]);\n\n  useEffect(() => {\n    fetchTickets();\n  }, [fetchTickets]);\n\n  return { tickets, loading, error, refetch: fetchTickets };\n}\n\n// ---------------------------------------------------------------------------\n// useHasTicket â€” check if wallet holds a ticket for a specific event\n// ---------------------------------------------------------------------------\n\nexport function useHasTicket(eventId: number) {\n  const { address, isConnected } = useWallet();\n  const [hasTicket, setHasTicket] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!isConnected || !address) return;\n    const check = async () => {\n      setLoading(true);\n      try {\n        const contract = getReadContract();\n        if (!contract) return;\n        const result: boolean = await contract.hasTicket(address, eventId);\n        setHasTicket(result);\n      } catch {\n        setHasTicket(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n    check();\n  }, [address, isConnected, eventId]);\n\n  return { hasTicket, loading };\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AACA;;AANA;;;;;;AAaO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,gJAAS;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,eAAe,IAAA,4KAAW;kDAAC;YAC/B,WAAW;YACX,SAAS;YACT,IAAI;gBACF,6CAA6C;gBAC7C,MAAM,cAAc,IAAA,kJAAc;gBAElC,gEAAgE;gBAChE,MAAM,eAAyB,EAAE;gBACjC,IAAI,eAAe,SAAS;oBAC1B,IAAI;wBACF,MAAM,WAAW,IAAA,4IAAe;wBAChC,IAAI,UAAU;4BACZ,MAAM,aAAqB,MAAM,SAAS,UAAU;4BACpD,IAAK,IAAI,UAAU,GAAG,UAAU,OAAO,aAAa,UAAW;gCAC7D,MAAM,QAAgB,MAAM,SAAS,eAAe,CAAC,SAAS;gCAC9D,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,QAAQ,IAAK;oCACtC,aAAa,IAAI,CAAC;wCAChB,SAAS,UAAU,OAAO;wCAC1B;wCACA,OAAO;wCACP,aAAa,IAAI,OAAO,WAAW;wCACnC,QAAQ;oCACV;gCACF;4BACF;wBACF;oBACF,EAAE,OAAM;oBACN,8DAA8D;oBAChE;gBACF;gBAEA,kEAAkE;gBAClE,MAAM,gBAAgB,IAAI,IAAI,aAAa,GAAG;8DAAC,CAAC,IAAM,EAAE,OAAO;;gBAC/D,MAAM,SAAS;uBACV;uBACA,YAAY,MAAM;kEAAC,CAAC,IAAM,CAAC,cAAc,GAAG,CAAC,EAAE,OAAO;;iBAC1D;gBAED,4CAA4C;gBAC5C,MAAM,WAAW,OAAO,GAAG;uEAAC,CAAC;wBAC3B,MAAM,QAAQ,0IAAW,CAAC,IAAI;qFAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,OAAO;;wBACxD,OAAO,QAAQ;4BAAE,GAAG,CAAC;4BAAE;wBAAM,IAAI;oBACnC;;gBAEA,WAAW;YACb,EAAE,OAAO,KAAc;gBACrB,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAChD,SAAU;gBACR,WAAW;YACb;QACF;iDAAG;QAAC;QAAS;KAAY;IAEzB,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG;QAAC;KAAa;IAEjB,OAAO;QAAE;QAAS;QAAS;QAAO,SAAS;IAAa;AAC1D;GAhEgB;;QACmB,gJAAS;;;AAqErC,SAAS,aAAa,OAAe;;IAC1C,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,gJAAS;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,eAAe,CAAC,SAAS;YAC9B,MAAM;gDAAQ;oBACZ,WAAW;oBACX,IAAI;wBACF,MAAM,WAAW,IAAA,4IAAe;wBAChC,IAAI,CAAC,UAAU;wBACf,MAAM,SAAkB,MAAM,SAAS,SAAS,CAAC,SAAS;wBAC1D,aAAa;oBACf,EAAE,OAAM;wBACN,aAAa;oBACf,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;iCAAG;QAAC;QAAS;QAAa;KAAQ;IAElC,OAAO;QAAE;QAAW;IAAQ;AAC9B;IAxBgB;;QACmB,gJAAS"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/ui/Badge.tsx"],"sourcesContent":["import { type HTMLAttributes } from \"react\";\nimport { cn } from \"../../lib/utils\";\n\ntype BadgeVariant = \"default\" | \"success\" | \"warning\" | \"danger\" | \"info\" | \"soulbound\";\n\ninterface BadgeProps extends HTMLAttributes<HTMLSpanElement> {\n  variant?: BadgeVariant;\n}\n\nconst variantStyles: Record<BadgeVariant, string> = {\n  default: \"bg-zinc-100 text-zinc-700 dark:bg-zinc-800 dark:text-zinc-300\",\n  success: \"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400\",\n  warning: \"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400\",\n  danger: \"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400\",\n  info: \"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400\",\n  soulbound:\n    \"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400\",\n};\n\nexport function Badge({ variant = \"default\", className, children, ...props }: BadgeProps) {\n  return (\n    <span\n      className={cn(\n        \"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium\",\n        variantStyles[variant],\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAQA,MAAM,gBAA8C;IAClD,SAAS;IACT,SAAS;IACT,SAAS;IACT,QAAQ;IACR,MAAM;IACN,WACE;AACJ;AAEO,SAAS,MAAM,EAAE,UAAU,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAmB;IACtF,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iFACA,aAAa,CAAC,QAAQ,EACtB;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;KAbgB"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/ui/Modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, type ReactNode } from \"react\";\nimport { cn } from \"../../lib/utils\";\nimport { Button } from \"./Button\";\n\ninterface ModalProps {\n  open: boolean;\n  onClose: () => void;\n  title?: string;\n  children: ReactNode;\n  className?: string;\n}\n\nexport function Modal({ open, onClose, title, children, className }: ModalProps) {\n  const overlayRef = useRef<HTMLDivElement>(null);\n\n  // close on Escape\n  useEffect(() => {\n    const handler = (e: KeyboardEvent) => e.key === \"Escape\" && onClose();\n    window.addEventListener(\"keydown\", handler);\n    return () => window.removeEventListener(\"keydown\", handler);\n  }, [onClose]);\n\n  if (!open) return null;\n\n  return (\n    <div\n      ref={overlayRef}\n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\"\n      onClick={(e) => e.target === overlayRef.current && onClose()}\n    >\n      <div\n        className={cn(\n          \"relative w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl dark:bg-zinc-900\",\n          className\n        )}\n      >\n        {title && (\n          <div className=\"mb-4 flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-zinc-900 dark:text-zinc-50\">\n              {title}\n            </h2>\n            <Button variant=\"ghost\" size=\"sm\" onClick={onClose} aria-label=\"Close\">\n              âœ•\n            </Button>\n          </div>\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAcO,SAAS,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAc;;IAC7E,MAAM,aAAa,IAAA,uKAAM,EAAiB;IAE1C,kBAAkB;IAClB,IAAA,0KAAS;2BAAC;YACR,MAAM;2CAAU,CAAC,IAAqB,EAAE,GAAG,KAAK,YAAY;;YAC5D,OAAO,gBAAgB,CAAC,WAAW;YACnC;mCAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;0BAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC;QACC,KAAK;QACL,WAAU;QACV,SAAS,CAAC,IAAM,EAAE,MAAM,KAAK,WAAW,OAAO,IAAI;kBAEnD,cAAA,6LAAC;YACC,WAAW,IAAA,4HAAE,EACX,iFACA;;gBAGD,uBACC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCACX;;;;;;sCAEH,6LAAC,+IAAM;4BAAC,SAAQ;4BAAQ,MAAK;4BAAK,SAAS;4BAAS,cAAW;sCAAQ;;;;;;;;;;;;gBAK1E;;;;;;;;;;;;AAIT;GAtCgB;KAAA"}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/wallet/WalletGuard.tsx"],"sourcesContent":["\"use client\";\n\nimport { type ReactNode } from \"react\";\nimport { useWallet } from \"../../context/WalletContext\";\nimport { Button } from \"../ui/Button\";\n\ninterface WalletGuardProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\n/** Renders children only when wallet is connected; otherwise renders a connect prompt. */\nexport function WalletGuard({ children, fallback }: WalletGuardProps) {\n  const { isConnected, isConnecting, connect } = useWallet();\n\n  if (isConnected) return <>{children}</>;\n\n  return (\n    fallback ?? (\n      <div className=\"flex flex-col items-center gap-4 py-16 text-center\">\n        <p className=\"text-zinc-500 dark:text-zinc-400\">\n          Connect your wallet to continue.\n        </p>\n        <Button loading={isConnecting} onClick={connect}>\n          Connect Wallet\n        </Button>\n      </div>\n    )\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;;;AAJA;;;AAYO,SAAS,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAoB;;IAClE,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,IAAA,gJAAS;IAExD,IAAI,aAAa,qBAAO;kBAAG;;IAE3B,OACE,0BACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAE,WAAU;0BAAmC;;;;;;0BAGhD,6LAAC,+IAAM;gBAAC,SAAS;gBAAc,SAAS;0BAAS;;;;;;;;;;;;AAMzD;GAjBgB;;QACiC,gJAAS;;;KAD1C"}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/events/BuyTicketPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { formatPrice, isSoldOut, remainingTickets } from \"../../lib/utils\";\nimport { useMintTicket } from \"../../hooks/useEvents\";\nimport { useHasTicket } from \"../../hooks/useTickets\";\nimport { Badge } from \"../ui/Badge\";\nimport { Button } from \"../ui/Button\";\nimport { Modal } from \"../ui/Modal\";\nimport { WalletGuard } from \"../wallet/WalletGuard\";\nimport type { Event } from \"../../types/event\";\n\nexport function BuyTicketPanel({ event }: { event: Event }) {\n  const soldOut = isSoldOut(event.soldCount, event.maxTickets);\n  const { hasTicket } = useHasTicket(event.id);\n  const { mint, tx, reset } = useMintTicket();\n  const [confirmOpen, setConfirmOpen] = useState(false);\n\n  const handleBuy = async () => {\n    await mint(event.id, event.priceWei);\n    setConfirmOpen(false);\n  };\n\n  return (\n    <div className=\"rounded-2xl border border-zinc-200 bg-zinc-50 p-5 dark:border-zinc-800 dark:bg-zinc-900/50\">\n      <div className=\"mb-4 flex items-center justify-between\">\n        <span className=\"text-2xl font-bold text-zinc-900 dark:text-zinc-50\">\n          {formatPrice(event.priceWei)}\n        </span>\n        {soldOut ? (\n          <Badge variant=\"danger\">Sold Out</Badge>\n        ) : (\n          <Badge variant=\"success\">{remainingTickets(event.soldCount, event.maxTickets)} available</Badge>\n        )}\n      </div>\n\n      {/* Soulbound notice */}\n      <div className=\"mb-4 rounded-xl bg-violet-50 p-3 text-sm text-violet-700 dark:bg-violet-900/20 dark:text-violet-300\">\n        ðŸ”’ This ticket is <strong>soulbound</strong> â€” it cannot be transferred,\n        sold, or given away. Only returns at original price.\n      </div>\n\n      <WalletGuard>\n        {hasTicket ? (\n          <Badge variant=\"soulbound\" className=\"text-sm py-1 px-3\">\n            âœ“ You own a ticket for this event\n          </Badge>\n        ) : soldOut ? (\n          <Button fullWidth variant=\"secondary\" disabled>\n            Sold Out â€” Join Waitlist Below\n          </Button>\n        ) : (\n          <Button fullWidth onClick={() => setConfirmOpen(true)}>\n            Buy Ticket\n          </Button>\n        )}\n      </WalletGuard>\n\n      {/* Confirm modal */}\n      <Modal open={confirmOpen} onClose={() => { setConfirmOpen(false); reset(); }} title=\"Confirm Purchase\">\n        <p className=\"mb-4 text-sm text-zinc-600 dark:text-zinc-400\">\n          You are about to purchase 1 ticket for{\" \"}\n          <strong className=\"text-zinc-900 dark:text-zinc-50\">{event.name}</strong>.\n        </p>\n        <p className=\"mb-6 text-sm text-zinc-600 dark:text-zinc-400\">\n          Price: <strong>{formatPrice(event.priceWei)}</strong>\n        </p>\n        {tx.status === \"error\" && (\n          <p className=\"mb-4 rounded-lg bg-red-50 px-3 py-2 text-sm text-red-600\">{tx.error}</p>\n        )}\n        {tx.status === \"success\" && (\n          <p className=\"mb-4 rounded-lg bg-green-50 px-3 py-2 text-sm text-green-700\">\n            Ticket minted! ðŸŽ‰\n          </p>\n        )}\n        <div className=\"flex gap-2\">\n          <Button variant=\"secondary\" fullWidth onClick={() => setConfirmOpen(false)}>\n            Cancel\n          </Button>\n          <Button\n            fullWidth\n            loading={tx.status === \"pending\"}\n            disabled={tx.status === \"success\"}\n            onClick={handleBuy}\n          >\n            Confirm\n          </Button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAYO,SAAS,eAAe,EAAE,KAAK,EAAoB;;IACxD,MAAM,UAAU,IAAA,mIAAS,EAAC,MAAM,SAAS,EAAE,MAAM,UAAU;IAC3D,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,6IAAY,EAAC,MAAM,EAAE;IAC3C,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,GAAG,IAAA,6IAAa;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,YAAY;QAChB,MAAM,KAAK,MAAM,EAAE,EAAE,MAAM,QAAQ;QACnC,eAAe;IACjB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCACb,IAAA,qIAAW,EAAC,MAAM,QAAQ;;;;;;oBAE5B,wBACC,6LAAC,6IAAK;wBAAC,SAAQ;kCAAS;;;;;6CAExB,6LAAC,6IAAK;wBAAC,SAAQ;;4BAAW,IAAA,0IAAgB,EAAC,MAAM,SAAS,EAAE,MAAM,UAAU;4BAAE;;;;;;;;;;;;;0BAKlF,6LAAC;gBAAI,WAAU;;oBAAsG;kCACjG,6LAAC;kCAAO;;;;;;oBAAkB;;;;;;;0BAI9C,6LAAC,6JAAW;0BACT,0BACC,6LAAC,6IAAK;oBAAC,SAAQ;oBAAY,WAAU;8BAAoB;;;;;2BAGvD,wBACF,6LAAC,+IAAM;oBAAC,SAAS;oBAAC,SAAQ;oBAAY,QAAQ;8BAAC;;;;;yCAI/C,6LAAC,+IAAM;oBAAC,SAAS;oBAAC,SAAS,IAAM,eAAe;8BAAO;;;;;;;;;;;0BAO3D,6LAAC,6IAAK;gBAAC,MAAM;gBAAa,SAAS;oBAAQ,eAAe;oBAAQ;gBAAS;gBAAG,OAAM;;kCAClF,6LAAC;wBAAE,WAAU;;4BAAgD;4BACpB;0CACvC,6LAAC;gCAAO,WAAU;0CAAmC,MAAM,IAAI;;;;;;4BAAU;;;;;;;kCAE3E,6LAAC;wBAAE,WAAU;;4BAAgD;0CACpD,6LAAC;0CAAQ,IAAA,qIAAW,EAAC,MAAM,QAAQ;;;;;;;;;;;;oBAE3C,GAAG,MAAM,KAAK,yBACb,6LAAC;wBAAE,WAAU;kCAA4D,GAAG,KAAK;;;;;;oBAElF,GAAG,MAAM,KAAK,2BACb,6LAAC;wBAAE,WAAU;kCAA+D;;;;;;kCAI9E,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+IAAM;gCAAC,SAAQ;gCAAY,SAAS;gCAAC,SAAS,IAAM,eAAe;0CAAQ;;;;;;0CAG5E,6LAAC,+IAAM;gCACL,SAAS;gCACT,SAAS,GAAG,MAAM,KAAK;gCACvB,UAAU,GAAG,MAAM,KAAK;gCACxB,SAAS;0CACV;;;;;;;;;;;;;;;;;;;;;;;;AAOX;GA/EgB;;QAEQ,6IAAY;QACN,6IAAa;;;KAH3B"}},
    {"offset": {"line": 1069, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/hooks/useWaitlist.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useWallet } from \"../context/WalletContext\";\nimport type { WaitlistEntry, WaitlistStats } from \"../types/waitlist\";\n\n// ---------------------------------------------------------------------------\n// useWaitlist â€” manage the waitlist for a specific event\n// ---------------------------------------------------------------------------\n\nexport function useWaitlist(eventId: number) {\n  const { address, isConnected } = useWallet();\n  const [stats, setStats] = useState<WaitlistStats | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [joining, setJoining] = useState(false);\n  const [leaving, setLeaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchStats = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const params = new URLSearchParams({ eventId: String(eventId) });\n      if (address) params.set(\"address\", address);\n      const res = await fetch(`/api/waitlist/${eventId}?${params.toString()}`);\n      if (!res.ok) throw new Error(\"Failed to fetch waitlist\");\n      const data: WaitlistStats = await res.json();\n      setStats(data);\n    } catch (err: unknown) {\n      setError(err instanceof Error ? err.message : \"Error\");\n    } finally {\n      setLoading(false);\n    }\n  }, [eventId, address]);\n\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n  const join = useCallback(async () => {\n    if (!isConnected || !address) return;\n    setJoining(true);\n    setError(null);\n    try {\n      const res = await fetch(`/api/waitlist/${eventId}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ address }),\n      });\n      if (!res.ok) throw new Error(\"Failed to join waitlist\");\n      await fetchStats();\n    } catch (err: unknown) {\n      setError(err instanceof Error ? err.message : \"Error\");\n    } finally {\n      setJoining(false);\n    }\n  }, [isConnected, address, eventId, fetchStats]);\n\n  const leave = useCallback(async () => {\n    if (!isConnected || !address) return;\n    setLeaving(true);\n    setError(null);\n    try {\n      const res = await fetch(`/api/waitlist/${eventId}`, {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ address }),\n      });\n      if (!res.ok) throw new Error(\"Failed to leave waitlist\");\n      await fetchStats();\n    } catch (err: unknown) {\n      setError(err instanceof Error ? err.message : \"Error\");\n    } finally {\n      setLeaving(false);\n    }\n  }, [isConnected, address, eventId, fetchStats]);\n\n  return { stats, loading, joining, leaving, error, join, leave, refetch: fetchStats };\n}\n\n// ---------------------------------------------------------------------------\n// useMyWaitlistEntries â€” all events the connected wallet is queued for\n// ---------------------------------------------------------------------------\n\nexport function useMyWaitlistEntries() {\n  const { address, isConnected } = useWallet();\n  const [entries, setEntries] = useState<WaitlistEntry[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!isConnected || !address) return;\n    const fetch_ = async () => {\n      setLoading(true);\n      try {\n        const res = await fetch(`/api/waitlist?address=${address}`);\n        if (!res.ok) throw new Error(\"Failed to fetch waitlist entries\");\n        const data: WaitlistEntry[] = await res.json();\n        setEntries(data);\n      } catch (err: unknown) {\n        setError(err instanceof Error ? err.message : \"Error\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetch_();\n  }, [address, isConnected]);\n\n  return { entries, loading, error };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/ui/Spinner.tsx"],"sourcesContent":["import { cn } from \"../../lib/utils\";\n\ninterface SpinnerProps {\n  size?: \"sm\" | \"md\" | \"lg\";\n  className?: string;\n}\n\nconst sizeMap = { sm: \"h-4 w-4\", md: \"h-8 w-8\", lg: \"h-12 w-12\" };\n\nexport function Spinner({ size = \"md\", className }: SpinnerProps) {\n  return (\n    <span\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\n        \"inline-block animate-spin rounded-full border-2 border-zinc-200 border-t-violet-600\",\n        sizeMap[size],\n        className\n      )}\n    />\n  );\n}\n\nexport function PageSpinner() {\n  return (\n    <div className=\"flex min-h-[40vh] w-full items-center justify-center\">\n      <Spinner size=\"lg\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAOA,MAAM,UAAU;IAAE,IAAI;IAAW,IAAI;IAAW,IAAI;AAAY;AAEzD,SAAS,QAAQ,EAAE,OAAO,IAAI,EAAE,SAAS,EAAgB;IAC9D,qBACE,6LAAC;QACC,MAAK;QACL,cAAW;QACX,WAAW,IAAA,4HAAE,EACX,uFACA,OAAO,CAAC,KAAK,EACb;;;;;;AAIR;KAZgB;AAcT,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAQ,MAAK;;;;;;;;;;;AAGpB;MANgB"}},
    {"offset": {"line": 1295, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/components/waitlist/JoinWaitlistButton.tsx"],"sourcesContent":["\"use client\";\n\nimport { useWaitlist } from \"../../hooks/useWaitlist\";\nimport { Button } from \"../ui/Button\";\nimport { Spinner } from \"../ui/Spinner\";\nimport { WalletGuard } from \"../wallet/WalletGuard\";\n\ninterface JoinWaitlistProps {\n  eventId: number;\n}\n\nexport function JoinWaitlistButton({ eventId }: JoinWaitlistProps) {\n  const { stats, loading, joining, leaving, error, join, leave } =\n    useWaitlist(eventId);\n\n  if (loading) return <Spinner size=\"sm\" />;\n\n  const onList = stats?.userPosition !== undefined;\n\n  return (\n    <WalletGuard>\n      <div className=\"space-y-1\">\n        {stats && (\n          <p className=\"text-sm text-zinc-500\">\n            {stats.totalWaiting} people waiting\n            {onList && ` â€¢ You are #${stats.userPosition}`}\n          </p>\n        )}\n        {error && <p className=\"text-xs text-red-500\">{error}</p>}\n        {onList ? (\n          <Button variant=\"secondary\" size=\"sm\" loading={leaving} onClick={leave}>\n            Leave Waitlist\n          </Button>\n        ) : (\n          <Button variant=\"secondary\" size=\"sm\" loading={joining} onClick={join}>\n            Join Waitlist\n          </Button>\n        )}\n      </div>\n    </WalletGuard>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAWO,SAAS,mBAAmB,EAAE,OAAO,EAAqB;;IAC/D,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,GAC5D,IAAA,6IAAW,EAAC;IAEd,IAAI,SAAS,qBAAO,6LAAC,iJAAO;QAAC,MAAK;;;;;;IAElC,MAAM,SAAS,OAAO,iBAAiB;IAEvC,qBACE,6LAAC,6JAAW;kBACV,cAAA,6LAAC;YAAI,WAAU;;gBACZ,uBACC,6LAAC;oBAAE,WAAU;;wBACV,MAAM,YAAY;wBAAC;wBACnB,UAAU,CAAC,YAAY,EAAE,MAAM,YAAY,EAAE;;;;;;;gBAGjD,uBAAS,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;gBAC9C,uBACC,6LAAC,+IAAM;oBAAC,SAAQ;oBAAY,MAAK;oBAAK,SAAS;oBAAS,SAAS;8BAAO;;;;;yCAIxE,6LAAC,+IAAM;oBAAC,SAAQ;oBAAY,MAAK;oBAAK,SAAS;oBAAS,SAAS;8BAAM;;;;;;;;;;;;;;;;;AAOjF;GA9BgB;;QAEZ,6IAAW;;;KAFC"}},
    {"offset": {"line": 1394, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/app/events/%5BeventId%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useParams } from \"next/navigation\";\nimport { PageWrapper } from \"../../../components/layout/PageWrapper\";\nimport { BuyTicketPanel } from \"../../../components/events/BuyTicketPanel\";\nimport { JoinWaitlistButton } from \"../../../components/waitlist/JoinWaitlistButton\";\nimport { PageSpinner } from \"../../../components/ui/Spinner\";\nimport { Badge } from \"../../../components/ui/Badge\";\nimport { formatPrice, isSoldOut } from \"../../../lib/utils\";\nimport { useEvent } from \"../../../hooks/useEvents\";\n\nexport default function EventDetailPage() {\n  const params = useParams<{ eventId: string }>();\n  const { event, loading, error } = useEvent(Number(params.eventId));\n\n  if (loading) return <PageSpinner />;\n  if (error || !event)\n    return <PageWrapper><p className=\"text-red-500\">{error ?? \"Event not found\"}</p></PageWrapper>;\n\n  const soldOut = isSoldOut(event.soldCount, event.maxTickets);\n\n  return (\n    <PageWrapper>\n      <div className=\"grid grid-cols-1 gap-8 lg:grid-cols-3\">\n        {/* Left: details */}\n        <div className=\"lg:col-span-2 space-y-4\">\n          <div className=\"h-64 w-full rounded-2xl bg-linear-to-br from-violet-500 to-indigo-600 flex items-center justify-center text-6xl\">\n            ðŸŽµ\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Badge variant=\"soulbound\">Soulbound</Badge>\n            {soldOut && <Badge variant=\"danger\">Sold Out</Badge>}\n          </div>\n          <h1 className=\"text-4xl font-bold text-zinc-900 dark:text-white\">\n            {event.name}\n          </h1>\n          <div className=\"text-zinc-500 dark:text-zinc-400 space-y-1 text-sm\">\n            <p>Artist: {event.artist || \"â€”\"}</p>\n            <p>Venue: {event.venue || \"â€”\"}</p>\n            <p>City: {event.city || \"â€”\"}</p>\n            <p>Date: {event.date || \"â€”\"}</p>\n          </div>\n          <p>{event.description || \"No description provided.\"}</p>\n        </div>\n\n        {/* Right: buy / waitlist */}\n        <div className=\"space-y-4\">\n          <BuyTicketPanel event={event} />\n          {soldOut && (\n            <div className=\"rounded-2xl border border-zinc-200 bg-zinc-50 p-5 dark:border-zinc-800 dark:bg-zinc-900/50\">\n              <h3 className=\"mb-2 font-semibold text-zinc-800 dark:text-zinc-100\">\n                Join the Waitlist\n              </h3>\n              <p className=\"mb-3 text-sm text-zinc-500 dark:text-zinc-400\">\n                Get notified automatically when a ticket is returned.\n              </p>\n              <JoinWaitlistButton eventId={event.id} />\n            </div>\n          )}\n        </div>\n      </div>\n    </PageWrapper>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ,EAAC,OAAO,OAAO,OAAO;IAEhE,IAAI,SAAS,qBAAO,6LAAC,qJAAW;;;;;IAChC,IAAI,SAAS,CAAC,OACZ,qBAAO,6LAAC,6JAAW;kBAAC,cAAA,6LAAC;YAAE,WAAU;sBAAgB,SAAS;;;;;;;;;;;IAE5D,MAAM,UAAU,IAAA,mIAAS,EAAC,MAAM,SAAS,EAAE,MAAM,UAAU;IAE3D,qBACE,6LAAC,6JAAW;kBACV,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCAAkH;;;;;;sCAGjI,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6IAAK;oCAAC,SAAQ;8CAAY;;;;;;gCAC1B,yBAAW,6LAAC,6IAAK;oCAAC,SAAQ;8CAAS;;;;;;;;;;;;sCAEtC,6LAAC;4BAAG,WAAU;sCACX,MAAM,IAAI;;;;;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;wCAAE;wCAAS,MAAM,MAAM,IAAI;;;;;;;8CAC5B,6LAAC;;wCAAE;wCAAQ,MAAM,KAAK,IAAI;;;;;;;8CAC1B,6LAAC;;wCAAE;wCAAO,MAAM,IAAI,IAAI;;;;;;;8CACxB,6LAAC;;wCAAE;wCAAO,MAAM,IAAI,IAAI;;;;;;;;;;;;;sCAE1B,6LAAC;sCAAG,MAAM,WAAW,IAAI;;;;;;;;;;;;8BAI3B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,mKAAc;4BAAC,OAAO;;;;;;wBACtB,yBACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAsD;;;;;;8CAGpE,6LAAC;oCAAE,WAAU;8CAAgD;;;;;;8CAG7D,6LAAC,6KAAkB;oCAAC,SAAS,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnD;GApDwB;;QACP,kJAAS;QACU,wIAAQ;;;KAFpB"}}]
}