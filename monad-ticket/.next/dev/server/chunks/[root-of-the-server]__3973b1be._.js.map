{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/tuanamelisaaksoy/Desktop/Wh%C4%B1tePass%20V2/MONAD_BLITZ/monad-ticket/src/app/api/waitlist/route.ts"],"sourcesContent":["/**\n * In-memory waitlist store (replace with a DB in production).\n *\n * GET  /api/waitlist?address=0x...          → all entries for address\n * GET  /api/waitlist/[eventId]?address=0x.. → stats for event\n * POST /api/waitlist/[eventId]              → join\n * DELETE /api/waitlist/[eventId]            → leave\n */\n\nimport type { WaitlistEntry } from \"../../../types/waitlist\";\n\n// ---------------------------------------------------------------------------\n// Shared in-memory store (module-level singleton in dev)\n// ---------------------------------------------------------------------------\n\ninterface WaitlistStore {\n  entries: WaitlistEntry[];\n  nextId: number;\n}\n\nconst g = globalThis as typeof globalThis & { _waitlist?: WaitlistStore };\nif (!g._waitlist) g._waitlist = { entries: [], nextId: 1 };\nexport const store = g._waitlist;\n\n// ---------------------------------------------------------------------------\n// GET /api/waitlist?address=0x...\n// ---------------------------------------------------------------------------\n\nexport async function GET(request: Request) {\n  const { searchParams } = new URL(request.url);\n  const address = searchParams.get(\"address\")?.toLowerCase();\n\n  if (!address) {\n    return Response.json(\n      { error: \"address query param required\" },\n      { status: 400 }\n    );\n  }\n\n  const entries = store.entries.filter(\n    (e) => e.userAddress.toLowerCase() === address && e.status === \"waiting\"\n  );\n\n  return Response.json(entries);\n}\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;AAaD,MAAM,IAAI;AACV,IAAI,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG;IAAE,SAAS,EAAE;IAAE,QAAQ;AAAE;AAClD,MAAM,QAAQ,EAAE,SAAS;AAMzB,eAAe,IAAI,OAAgB;IACxC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,UAAU,aAAa,GAAG,CAAC,YAAY;IAE7C,IAAI,CAAC,SAAS;QACZ,OAAO,SAAS,IAAI,CAClB;YAAE,OAAO;QAA+B,GACxC;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,UAAU,MAAM,OAAO,CAAC,MAAM,CAClC,CAAC,IAAM,EAAE,WAAW,CAAC,WAAW,OAAO,WAAW,EAAE,MAAM,KAAK;IAGjE,OAAO,SAAS,IAAI,CAAC;AACvB"}}]
}